schema: '2.0'
stages:
  load_data_train:
    cmd: python src/training/stage_01_data_loader.py --config=config/config.yaml --params=config/params.yaml
    deps:
    - path: config/config.yaml
      md5: 1947640b5944a672ca443a225021db6b
      size: 2425
    - path: config/params.yaml
      md5: 932055a325663e38d70d400cd9c77a35
      size: 1616
    - path: src/training/stage_01_data_loader.py
      md5: 3002d23663d8d3a8ebe36df62d24beea
      size: 2344
    - path: src/utils/all_utils.py
      md5: 909bb77386dd07d8222211f78ea5fee9
      size: 2077
    outs:
    - path: artifacts/local_data_dirs/aps_failure_training_set.csv
      md5: 2c8ff50fbea408f2cb9595b14fb7a40a
      size: 44668322
  load_data_pred:
    cmd: python src/prediction/stage_01_data_loader.py --config=config/config.yaml
      --params=config/params.yaml
    deps:
    - path: config/config.yaml
      md5: 66d441319675290eb8a85333ec1caec6
      size: 2200
    - path: src/prediction/stage_01_data_loader.py
      md5: 425ef55a1c240bb9c37f72e412ab4bf1
      size: 2304
    - path: src/utils/all_utils.py
      md5: 909bb77386dd07d8222211f78ea5fee9
      size: 2077
    outs:
    - path: artifacts/local_data_dirs/aps_failure_test_set.csv
      md5: 199f005b1272e731555af08be026fd87
      size: 11942686
  preprocess_train_data:
    cmd: python src/training/stage_02_data_preprocessing.py --config=config/config.yaml
      --params=config/params.yaml
    deps:
    - path: artifacts/local_data_dirs/aps_failure_training_set.csv
      md5: 2c8ff50fbea408f2cb9595b14fb7a40a
      size: 44668322
    - path: config/config.yaml
      md5: 1947640b5944a672ca443a225021db6b
      size: 2425
    - path: config/params.yaml
      md5: 932055a325663e38d70d400cd9c77a35
      size: 1616
    - path: src/training/stage_02_data_preprocessing.py
      md5: 0a6afa27229ca7c45417bf678fc0f259
      size: 22936
    - path: src/utils/DbOperations_Logs.py
      md5: 9b65fbb7f124300d857ac05dbc4a353f
      size: 5498
    - path: src/utils/all_utils.py
      md5: 909bb77386dd07d8222211f78ea5fee9
      size: 2077
    outs:
    - path: artifacts/preprocessed_data_dir/preprocessed_training_data.csv
      md5: cb0ce5fdfe2ec67a91f5527247a855e3
      size: 40025766
  preprocess_pred_data:
    cmd: python src/prediction/stage_02_data_preprocessing.py --config=config/config.yaml
      --params=config/params.yaml
    deps:
    - path: artifacts/local_data_dirs/aps_failure_test_set.csv
      md5: 199f005b1272e731555af08be026fd87
      size: 11942686
    - path: config/config.yaml
      md5: 66d441319675290eb8a85333ec1caec6
      size: 2200
    - path: config/params.yaml
      md5: 932055a325663e38d70d400cd9c77a35
      size: 1616
    - path: src/prediction/stage_02_data_preprocessing.py
      md5: b39687f91dd2f1faf253254120ba294a
      size: 20251
    - path: src/utils/DbOperations_Logs.py
      md5: 9b65fbb7f124300d857ac05dbc4a353f
      size: 5498
    - path: src/utils/all_utils.py
      md5: 909bb77386dd07d8222211f78ea5fee9
      size: 2077
    outs:
    - path: artifacts/preprocessed_data_dir/preprocessed_testing_data.csv
      md5: 35d7fd32a5e39dac57077fe75bdda0e0
      size: 39996889
  model_trainer:
    cmd: python src/training/stage_03_model_training.py --config=config/config.yaml
      --params=config/params.yaml
    deps:
    - path: artifacts/preprocessed_data_dir/preprocessed_training_data.csv
      md5: cb0ce5fdfe2ec67a91f5527247a855e3
      size: 40025766
    - path: config/config.yaml
      md5: 66d441319675290eb8a85333ec1caec6
      size: 2200
    - path: config/params.yaml
      md5: 932055a325663e38d70d400cd9c77a35
      size: 1616
    - path: src/training/stage_03_model_training.py
      md5: bea08decebfde6711d9493c6b197c65b
      size: 58495
    - path: src/utils/DbOperations_Logs.py
      md5: 9b65fbb7f124300d857ac05dbc4a353f
      size: 5498
    - path: src/utils/all_utils.py
      md5: 909bb77386dd07d8222211f78ea5fee9
      size: 2077
    outs:
    - path: artifacts/model_dir/Xg-Boost.pkl
      md5: 979ae4c4b6f22f87f9a44e17df40fef8
      size: 1022823
  model_predictor:
    cmd: python src/prediction/stage_03_model_predictor.py --config=config/config.yaml
      --params=config/params.yaml --model=config/model.yaml
    deps:
    - path: artifacts/preprocessed_data_dir/preprocessed_testing_data.csv
      md5: d1519a2bebdf5968e19aff6866f8202e
      size: 39987589
    - path: config/config.yaml
      md5: 66d441319675290eb8a85333ec1caec6
      size: 2200
    - path: config/model.yaml
      md5: ed69b0d3558f4c9eb293f135ca821ce4
      size: 29
    - path: config/params.yaml
      md5: 932055a325663e38d70d400cd9c77a35
      size: 1616
    - path: src/prediction/stage_03_model_predictor.py
      md5: baf07dfa06813826c0792c46d3740551
      size: 8676
    - path: src/utils/DbOperations_Logs.py
      md5: 9b65fbb7f124300d857ac05dbc4a353f
      size: 5498
    - path: src/utils/all_utils.py
      md5: 909bb77386dd07d8222211f78ea5fee9
      size: 2077
    outs:
    - path: artifacts/Prediction_Output_DIR/Predictions.csv
      md5: 220642d9801ebaff6f31884cf1fbb650
      size: 36015382
